webpackJsonp([10],{Qk8w:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("4YfN"),l=a.n(i),s=a("9rMa"),r={name:"set_team",data:function(){return{isAddMemberPopover:!1,tableData:[],multipleSelection:[]}},computed:l()({},Object(s.d)(["userID","shopID"])),methods:{handleSelectionChange:function(t){this.multipleSelection=t},changeAdmin:function(t){for(var e=this.multipleSelection,a=this.tableData,i=0;i<a.length;i++){for(var l=a[i].id,s=!1,r=0;r<e.length;r++){if(e[r].id===l){s=!0;break}}a[i].level=s?0:1}},delMember:function(){var t=this.tableData,e=this.multipleSelection;t=t.filter(function(t){return!e.map(function(t){return t.id}).includes(t.id)}),this.tableData=t}},created:function(){var t=this;this.ajax.get(this.BASE_URL+"/user/team",{params:{shop_id:this.shopID,user_id:this.userID}}).then(function(e){t.tableData=e.data.data.list}).catch(function(t){})}},n={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h2",[t._v("团队成员")]),t._v(" "),a("div",{staticClass:"group-warp"},[a("div",{staticClass:"setting"},[a("div",{staticClass:"count text-list clr-semi"},[t._v("团队成员人数: "+t._s(t.tableData.length)+"/200")]),t._v(" "),a("div",{staticClass:"btns"},[a("el-popover",{attrs:{placement:"bottom",width:"278",trigger:"click"},model:{value:t.isAddMemberPopover,callback:function(e){t.isAddMemberPopover=e},expression:"isAddMemberPopover"}},[a("div",{staticClass:"popover-add-member clear-float"},[a("div",{staticClass:"text-semi clr-semi"},[t._v("添加成员")]),t._v(" "),a("div",{staticClass:"popover-add-member-body"},[a("img",{attrs:{src:"http://qr.api.cli.im/qr?data=http%3A%2F%2Flocalhost%3A8080%2F%23%2Fhome&level=H&transparent=0&blockpixel=12&marginblock=1&logourl=&size=260&kid=cliim&key=e00840ef4fc9af3812144abeeae61ce1",alt:""}}),t._v(" "),a("div",{staticClass:"text-minor clr-grey"},[t._v("使用热圈商家扫描上方二维码加入团队")])]),t._v(" "),a("el-button",{staticClass:"fl-right",on:{click:function(e){t.isAddMemberPopover=!1}}},[t._v("取消")])],1),t._v(" "),a("el-button",{attrs:{slot:"reference",type:"primary"},slot:"reference"},[t._v("添加成员")])],1),t._v(" "),a("el-button",{attrs:{type:"primary",disabled:""},on:{click:t.changeAdmin}},[t._v("设置管理员")]),t._v(" "),a("el-button",{attrs:{type:"primary",disabled:""},on:{click:t.delMember}},[t._v("删除成员")])],1)]),t._v(" "),a("el-table",{staticClass:"set-team-table",staticStyle:{width:"100%"},attrs:{data:t.tableData},on:{"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{prop:"name",label:"成员"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticClass:"member-head-box"},[a("img",{staticClass:"member-head-img",attrs:{src:e.row.avatar,alt:""}}),t._v(" "),a("span",{staticClass:"member-name"},[t._v(t._s(e.row.nickname))])])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"level",label:"权限"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n          "+t._s("1"===e.row.is_owner?"管理员":"成员")+"\n        ")]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"created_at",label:"加入时间"}})],1)],1)])},staticRenderFns:[]};var o=a("C7Lr")(r,n,!1,function(t){a("c9me"),a("hVRa")},"data-v-246253a9",null);e.default=o.exports},c9me:function(t,e){},hVRa:function(t,e){}});